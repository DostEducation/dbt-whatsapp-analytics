version: 2

models:
  
  - name: int_contact_fields

  - name: int_contacts
    columns: 
      - name: contact_phone
        description: primary key for this table
        tests: 
          - not_null
          - unique

  - name: int_AWS_metrics
    columns: 
      - name: google_sheet_id
        description: primary key for this table
        tests: 
          - not_null
          - unique
  
  - name: int_contact_groups
    columns: 
      - name: contact_id
        description: primary key for this table
        tests: 
          - not_null
          - unique

  - name: int_node_counts
    columns: 
      - name: flow_uuid
        description: Unique UUID generated for each row
        tests: 
          - unique
  
  - name: int_node_exits
    columns: 
      - name: node_uuid
        description: unique key for this table
        tests: 
          - not_null
          - unique
  
  - name: int_nodes
    tests:
    - dbt_utils.unique_combination_of_columns:
        combination_of_columns:
          - flow_uuid
          - node_uuid

  - name: int_node_types_configured

  - name: int_extract_flow_results
    tests:
    - dbt_utils.unique_combination_of_columns:
        combination_of_columns:
          - flow_result_id
          - result_key